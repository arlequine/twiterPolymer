<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="./style-module.html">
<dom-module id="details-info-component">
    <template>
        <style include="style-module"></style>
        <template is="dom-repeat" items="[[postsUser]]">
            <paper-card>
                    <div class="post-module">
                            <div class="thumbnail">
                                <div class="date" style="display: none;">
                                    <div class="day"> </div>
                                    <div class="month">Mar</div>
                                </div>
                                <img src$="[[random()]]">
                            </div>
                                <!-- Post Content-->
                            <div class="post-content">
                                <div class="category">[[_formatDate(item.date)]]</div>
                                    <h1 class="title">[[item.title]]</h1>
                                    <p class="description" style="display: none; height: 100px; opacity: 1;">[[item.body]]</p>
                                    <div class="post-meta card-actions">
                                        <span class="timestamp"><i class="fa fa-clock-o"></i> 6 mins ago</span>
                                        <span class="comments"><iron-icon class="star" icon="question-answer"></iron-icon><a href="#"> 39 comments</a></span>
                                    </div>
                                </div>
                            </div>
                </paper-card>
        </template>
        <!-- <template is="dom-repeat" items="{{data}}" as="user">
            <h1>First name: <span>{{user.name}}</span></h1>
            <template is="dom-repeat" items="{{user.posts}}" as="posts" >
                <paper-card>
                    <div class="post-module">
                            <div class="thumbnail">
                                <div class="date">
                                    <div class="day">27</div>
                                    <div class="month">Mar</div>
                                </div>
                                <img src="/img/[[properties.random]]">
                            </div>
                                <!-- Post Content-->
                            <!-- <div class="post-content">
                                <div class="category">{{posts.date}}</div>
                                    <h1 class="title">{{posts.title}}</h1>
                                    <p class="description" style="display: none; height: 100px; opacity: 1;">
                                        {{posts.body}}</p>
                                    <div class="post-meta card-actions">
                                        <span class="timestamp"><i class="fa fa-clock-o"></i> 6 mins ago</span>
                                        <span class="comments"><i class="fa fa-comments"></i><a href="#"> 39 comments</a></span>
                                    </div>
                                </div>
                            </div>
                </paper-card>
            </template>
        </template> -->
        <paper-card >
    </template>
    <script>
        (function detailsInfoComponent(customElements) {
        'use strict';
        class DetailsInfoComponent extends Polymer.Element{
            static get is() { return 'details-info-component' };
            static get properties() {
                return {
                    prop: String,
                    data:  Object,
                    random: {
                        type: Function
                    },
                    postsUser: {
                        type: Array,
                        //observer: 'random'
                    },
                    Backgrounds:{
                        type: Array,
                        value: ['cdmx.jpeg', 'zcdmx.jpg', 'acdmx.jpg']
                    }
                }
            }
            random() {
                const randomBg = parseInt(Math.random() * 3);
                //console.log(this.Backgrounds[randomBg]);
                return `/img/${this.Backgrounds[randomBg]}`;
            }
            _formatDate(date){
                //console.log(date);
                let year = date.substr(0,4);
                let month = date.substr(5,2);
                let day = date.substr(8,2)
                
                let full = `${day}/${month}/${year}`;
                return full;
            }
        }
        customElements.define(DetailsInfoComponent.is, DetailsInfoComponent);
        })(window.customElements);

    </script>
</dom-module>
