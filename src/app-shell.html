<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="details-info-component.html">
<link rel="import" href="details-list-component.html">
<link rel="import" href="./style-module.html">
<dom-module id="app-shell">
	<template>
		<style include="style-module"></style>

		<iron-ajax
				auto
				url="https://posts-services.herokuapp.com/users"
				handle-as="json"
				on-response="handleResponse"
				last-response="{{postResponse}}"
				on-error="onErrorGet">
		</iron-ajax>

		<div id="main-container">
			<details-info-component id="detailsInfo" class="card-detail" posts-user="[[postsUser]]"></details-info-component>
			<details-list-component data="[[postResponse]]" class="card-detail" user-posts="{{postsUser}}"></details-list-component>


		</div>
	</template>
	<script>
		(function appShell(customElements) {
			'use strict';
			class AppShell extends Polymer.Element{
				static get is() { return 'app-shell' };
				static get properties() {
					return {
						prop: String,
						postsUser: {
							type: Array
						}

					}
				}

				handleResponse() {
                    console.log(this.data);
                }
			}
			customElements.define(AppShell.is, AppShell);
		})(window.customElements);
	</script>
</dom-module>
